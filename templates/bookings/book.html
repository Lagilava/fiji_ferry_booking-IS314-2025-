{% extends 'base.html' %}
{% load static %}

{% block title %}Book Your Fiji Ferry Adventure{% endblock %}

{% block content %}
<div class="min-h-screen py-8 px-4 sm:px-6 lg:px-8 bg-gradient-to-b from-blue-100 via-blue-200 to-blue-300 dark:from-blue-900 dark:via-blue-800 dark:to-blue-700">
    <div class="max-w-4xl mx-auto">
        <h1 class="text-4xl font-bold text-center text-gray-900 dark:text-blue-200 mb-8 font-playfair">
            Book Your Fiji Ferry Adventure
        </h1>

        <!-- Messages and Validation Errors -->
        <div class="messages mb-6">
            {% if messages %}
                {% for message in messages %}
                    <div class="alert {% if message.tags == 'error' %}error bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200{% else %}success bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200{% endif %} p-4 rounded-lg shadow-md animate__animated animate__fadeIn">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}
            {% if error %}
                <div class="alert error bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 p-4 rounded-lg shadow-md animate__animated animate__fadeIn">
                    {{ error }}
                </div>
            {% endif %}
            <div id="validation-errors" class="hidden alert error bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 p-4 rounded-lg shadow-md animate__animated animate__fadeIn">
                <ul id="validation-error-list" class="list-disc pl-5"></ul>
            </div>
        </div>

        <!-- Step Indicators -->
        <div class="flex justify-between mb-8">
            <div class="step flex-1 text-center py-3 bg-white dark:bg-gray-800 rounded-lg shadow-md mx-1 {% if form_data.step|default:1 == 1 %}active bg-blue-600 dark:bg-blue-500 text-white{% else %}bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-300{% endif %} transition-all duration-300 font-roboto">
                <span class="font-bold">1</span> Schedule & Contact
            </div>
            <div class="step flex-1 text-center py-3 bg-white dark:bg-gray-800 rounded-lg shadow-md mx-1 {% if form_data.step|default:1 == 2 %}active bg-blue-600 dark:bg-blue-500 text-white{% else %}bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-300{% endif %} transition-all duration-300 font-roboto">
                <span class="font-bold">2</span> Passengers
            </div>
            <div class="step flex-1 text-center py-3 bg-white dark:bg-gray-800 rounded-lg shadow-md mx-1 {% if form_data.step|default:1 == 3 %}active bg-blue-600 dark:bg-blue-500 text-white{% else %}bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-300{% endif %} transition-all duration-300 font-roboto">
                <span class="font-bold">3</span> Cargo & Extras
            </div>
            <div class="step flex-1 text-center py-3 bg-white dark:bg-gray-800 rounded-lg shadow-md mx-1 {% if form_data.step|default:1 == 4 %}active bg-blue-600 dark:bg-blue-500 text-white{% else %}bg-gray-200 dark:bg-gray-700 text-gray-900 dark:text-gray-300{% endif %} transition-all duration-300 font-roboto">
                <span class="font-bold">4</span> Review & Pay
            </div>
        </div>

        <!-- Form -->
        <form id="booking-form" method="post" enctype="multipart/form-data" class="bg-card-bg dark:bg-gray-800 p-6 rounded-lg shadow-lg">
            {% csrf_token %}

            <!-- Step 1: Schedule & Contact -->
            <div class="form-step {% if form_data.step|default:1 != 1 %}hidden{% endif %}">
                <h2 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-blue-200 font-playfair">Schedule & Contact</h2>
                <div class="space-y-4">
                    {% if not user.is_authenticated %}
                        <div>
                            <label for="guest_email" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Guest Email:</label>
                            <input type="email" name="guest_email" id="guest_email" value="{{ form_data.guest_email|default:'' }}" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400" required>
                            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Enter a valid email to receive booking confirmation.</p>
                            <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                        </div>
                    {% endif %}
                    <div>
                        <label for="schedule_id" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Select Schedule:</label>
                        <select name="schedule_id" id="schedule_id" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400" required>
                            <option value="">Select a schedule</option>
                            {% if schedules %}
                                {% with selected_schedule=form_data.schedule_id|default:"" %}
                                    {% for schedule in schedules %}
                                        <option value="{{ schedule.id }}" {% if selected_schedule == schedule.id|stringformat:"s" %}selected{% endif %}>
                                            {{ schedule.ferry.name }} ({{ schedule.route.departure_port }} → {{ schedule.route.destination_port }}) on {{ schedule.departure_time|date:"F d, Y H:i" }} - FJD {{ schedule.route.base_fare|floatformat:2 }}
                                        </option>
                                    {% endfor %}
                                {% endwith %}
                            {% else %}
                                <option value="" disabled>No schedules available</option>
                            {% endif %}
                        </select>
                        <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Choose your ferry route and departure time.</p>
                        <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                    </div>
                </div>
                <div class="mt-6 flex justify-end">
                    <button type="button" class="next-step bg-button-bg dark:bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-button-hover dark:hover:bg-blue-600 transition-colors font-roboto" data-next="2">Next</button>
                </div>
            </div>

            <!-- Step 2: Passengers -->
            <div class="form-step {% if form_data.step|default:1 != 2 %}hidden{% endif %}">
                <h2 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-blue-200 font-playfair">Passengers</h2>
                <div class="space-y-4">
                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                        <div>
                            <label for="adults" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Adults (12+):</label>
                            <input type="number" name="adults" id="adults" min="0" value="{{ form_data.adults|default:'0' }}" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400" required>
                            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Number of adult passengers (12 years and older).</p>
                            <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                        </div>
                        <div>
                            <label for="children" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Children (2-11):</label>
                            <input type="number" name="children" id="children" min="0" value="{{ form_data.children|default:'0' }}" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400" required>
                            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Number of child passengers (2-11 years).</p>
                            <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                        </div>
                        <div>
                            <label for="infants" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Infants (0-1):</label>
                            <input type="number" name="infants" id="infants" min="0" value="{{ form_data.infants|default:'0' }}" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400" required>
                            <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Number of infant passengers (0-1 years).</p>
                            <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                        </div>
                    </div>
                    <div id="passenger-details" class="hidden mt-4">
                        <h3 class="text-lg font-semibold mb-2 text-gray-900 dark:text-blue-200 font-playfair">Passenger Details</h3>
                        <div id="adult-fields" class="space-y-4"></div>
                        <div id="child-fields" class="space-y-4"></div>
                        <div id="infant-fields" class="space-y-4"></div>
                    </div>
                </div>
                <div class="mt-6 flex justify-between">
                    <button type="button" class="prev-step bg-gray-600 dark:bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors font-roboto" data-prev="1">Previous</button>
                    <button type="button" class="next-step bg-button-bg dark:bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-button-hover dark:hover:bg-blue-600 transition-colors font-roboto" data-next="3">Next</button>
                </div>
            </div>

            <!-- Step 3: Cargo & Extras -->
            <div class="form-step {% if form_data.step|default:1 != 3 %}hidden{% endif %}">
                <h2 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-blue-200 font-playfair">Cargo & Extras</h2>
                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                    <!-- Unaccompanied Minor Card -->
                    <div class="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg shadow-md">
                        <label class="flex items-center mb-2">
                            <input type="checkbox" name="is_unaccompanied_minor" id="is_unaccompanied_minor" class="mr-2 h-5 w-5 text-blue-600 dark:text-blue-400 focus:ring-button-bg dark:focus:ring-blue-400 border-border-color dark:border-gray-600" {% if form_data.is_unaccompanied_minor %}checked{% endif %}>
                            <span class="text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Unaccompanied Minor(s)</span>
                        </label>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-2 font-roboto">Check if any child or infant is traveling without an adult.</p>
                        <div id="unaccompanied-minor-fields" class="hidden space-y-4">
                            <div>
                                <label for="guardian_contact" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Guardian Contact:</label>
                                <input type="text" name="guardian_contact" id="guardian_contact" value="{{ form_data.guardian_contact|default:'' }}" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400">
                                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Provide contact details for the guardian.</p>
                                <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                            </div>
                            <div>
                                <label for="consent_form" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Consent Form:</label>
                                <input type="file" name="consent_form" id="consent_form" accept=".pdf,.jpg,.jpeg,.png" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400">
                                <div class="file-preview mt-2 hidden"></div>
                                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Upload a consent form for unaccompanied minors.</p>
                                <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Responsibility Declaration Card -->
                    <div class="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg shadow-md">
                        <div id="responsibility-declaration-fields" class="hidden space-y-4">
                            <div>
                                <label for="responsibility_declaration" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Responsibility Declaration:</label>
                                <input type="file" name="responsibility_declaration" id="responsibility_declaration" accept=".pdf,.jpg,.jpeg,.png" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-button-bg dark:focus:ring-blue-400">
                                <div class="file-preview mt-2 hidden"></div>
                                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Upload a declaration for non-parent adults traveling with minors.</p>
                                <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Group Booking Card -->
                    <div class="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg shadow-md">
                        <label class="flex items-center mb-2">
                            <input type="checkbox" name="is_group_booking" id="is_group_booking" class="mr-2 h-5 w-5 text-blue-600 dark:text-blue-400 focus:ring-button-bg dark:focus:ring-blue-400 border-border-color dark:border-gray-600" {% if form_data.is_group_booking %}checked{% endif %}>
                            <span class="text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Group Booking</span>
                        </label>
                        <p class="text-sm text-gray-500 dark:text-gray-400 font-roboto">Check if booking for a group (multiple passengers).</p>
                    </div>

                    <!-- Add Cargo Card -->
                    <div class="bg-green-50 dark:bg-green-900 p-4 rounded-lg shadow-md">
                        <label class="flex items-center mb-2">
                            <input type="checkbox" name="add_cargo_checkbox" id="add_cargo_checkbox" class="mr-2 h-5 w-5 text-green-600 dark:text-green-400 focus:ring-green-500 dark:focus:ring-green-400 border-border-color dark:border-gray-600" {% if form_data.add_cargo %}checked{% endif %}>
                            <span class="text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Add Cargo</span>
                        </label>
                        <p class="text-sm text-gray-500 dark:text-gray-400 mb-2 font-roboto">Check to include cargo in your booking.</p>
                        <div id="cargo-fields" class="hidden space-y-4">
                            <div>
                                <label for="cargo_type" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Cargo Type:</label>
                                <select name="cargo_type" id="cargo_type" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400">
                                    <option value="">Select cargo type</option>
                                    <option value="parcel" {% if form_data.cargo_type == 'parcel' %}selected{% endif %}>Parcel</option>
                                    <option value="pallet" {% if form_data.cargo_type == 'pallet' %}selected{% endif %}>Pallet</option>
                                    <option value="vehicle" {% if form_data.cargo_type == 'vehicle' %}selected{% endif %}>Vehicle</option>
                                    <option value="bulk" {% if form_data.cargo_type == 'bulk' %}selected{% endif %}>Bulk</option>
                                </select>
                                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Select the type of cargo.</p>
                                <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                            </div>
                            <div>
                                <label for="weight_kg" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Weight (kg):</label>
                                <input type="number" name="weight_kg" id="weight_kg" min="0" step="0.1" value="{{ form_data.weight_kg|default:'' }}" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400">
                                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Enter the cargo weight in kilograms.</p>
                                <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                            </div>
                            <div>
                                <label for="dimensions_cm" class="block text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Dimensions (cm):</label>
                                <input type="text" name="dimensions_cm" id="dimensions_cm" value="{{ form_data.dimensions_cm|default:'' }}" class="mt-1 w-full p-3 border rounded-lg bg-input-bg dark:bg-gray-700 text-gray-900 dark:text-gray-200 border-border-color dark:border-gray-600 focus:outline-none focus:ring-2 focus:ring-green-500 dark:focus:ring-green-400">
                                <p class="mt-1 text-sm text-gray-500 dark:text-gray-400 font-roboto">Enter dimensions in the format length x width x height.</p>
                                <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                            </div>
                        </div>
                    </div>

                    <!-- Emergency Travel Card -->
                    <div class="bg-yellow-50 dark:bg-yellow-900 p-4 rounded-lg shadow-md">
                        <label class="flex items-center mb-2">
                            <input type="checkbox" name="is_emergency" id="is_emergency" class="mr-2 h-5 w-5 text-yellow-600 dark:text-yellow-400 focus:ring-yellow-500 dark:focus:ring-yellow-400 border-border-color dark:border-gray-600" {% if form_data.is_emergency %}checked{% endif %}>
                            <span class="text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">Emergency Travel</span>
                        </label>
                        <p class="text-sm text-gray-500 dark:text-gray-400 font-roboto">Check if this is an emergency travel booking (FJD 50 surcharge).</p>
                    </div>
                </div>
                <div class="mt-6 flex justify-between">
                    <button type="button" class="prev-step bg-gray-600 dark:bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors font-roboto" data-prev="2">Previous</button>
                    <button type="button" class="next-step bg-button-bg dark:bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-button-hover dark:hover:bg-blue-600 transition-colors font-roboto" data-next="4">Next</button>
                </div>
            </div>

            <!-- Step 4: Review & Pay -->
            <div class="form-step {% if form_data.step|default:1 != 4 %}hidden{% endif %}">
                <h2 class="text-2xl font-semibold mb-4 text-gray-900 dark:text-blue-200 font-playfair">Review & Pay</h2>
                <div class="bg-blue-50 dark:bg-blue-900 p-4 rounded-lg shadow-md">
                    <h3 class="text-lg font-semibold mb-2 text-gray-900 dark:text-blue-200 font-playfair">Booking Summary</h3>
                    <div class="space-y-2 font-roboto text-gray-900 dark:text-gray-300">
                        <p><strong>Schedule:</strong> <span id="summary-schedule">Not selected</span></p>
                        <p><strong>Passengers:</strong> <span id="summary-passengers">0 Adults, 0 Children, 0 Infants</span></p>
                        <p><strong>Cargo:</strong> <span id="summary-cargo">None</span></p>
                        <p><strong>Extras:</strong> <span id="summary-extras">None</span></p>
                        <p><strong>Total Cost:</strong> FJD <span id="summary-total">0.00</span></p>
                    </div>
                </div>
                <div class="mt-4">
                    <label class="flex items-center">
                        <input type="checkbox" name="privacy_consent" id="privacy-consent" class="mr-2 h-5 w-5 text-blue-600 dark:text-blue-400 focus:ring-button-bg dark:focus:ring-blue-400 border-border-color dark:border-gray-600" {% if form_data.privacy_consent %}checked{% endif %}>
                        <span class="text-sm font-medium text-gray-900 dark:text-gray-300 font-roboto">I agree to the <a href="/privacy-policy" class="text-link-color dark:text-blue-400 hover:underline">Privacy Policy</a></span>
                    </label>
                    <p class="text-sm text-gray-500 dark:text-gray-400 font-roboto">Your data will be used to process your booking and comply with legal requirements.</p>
                    <p class="error-message text-red-600 dark:text-red-400 text-sm hidden mt-1"></p>
                </div>
                <div class="mt-6 flex justify-between">
                    <button type="button" class="prev-step bg-gray-600 dark:bg-gray-500 text-white px-6 py-2 rounded-lg hover:bg-gray-700 dark:hover:bg-gray-600 transition-colors font-roboto" data-prev="3">Previous</button>
                    <button type="submit" id="submit-button"
                        class="bg-green-600 dark:bg-green-500 text-white px-6 py-2 rounded-lg hover:bg-green-700 dark:hover:bg-green-600 transition-colors font-roboto">
    Proceed to Payment
</button>

                </div>
            </div>
        </form>

        <!-- Back to Home -->
        <div class="mt-6 text-center">
            <a href="{% url 'bookings:home' %}" class="text-link-color dark:text-blue-400 hover:underline font-roboto">← Back to Home</a>
        </div>
    </div>
</div>
{% endblock %}

{% block extra_css %}
<link href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css" rel="stylesheet">
<style>
/* Sea-inspired theme using base.html variables */
:root {
    --card-bg: #ffffff;
    --input-bg: #f3f4f6;
    --button-bg: #2563eb;
    --button-hover: #1d4ed8;
    --border-color: #d1d5db;
    --link-color: #1d4ed8;
    --text-color: #111827;
}

.dark {
    --card-bg: #1f2937;
    --input-bg: #374151;
    --button-bg: #3b82f6;
    --button-hover: #60a5fa;
    --border-color: #4b5563;
    --link-color: #60a5fa;
    --text-color: #e5e7eb;
}

.font-playfair {
    font-family: 'Playfair Display', serif;
}

.font-roboto {
    font-family: 'Roboto', sans-serif;
}

.step.active {
    background-color: var(--button-bg);
    color: #ffffff;
    transform: scale(1.05);
}

.step.completed {
    background-color: #6b7280;
    color: #ffffff;
}

.passenger-fieldset {
    background: var(--card-bg);
    padding: 1rem;
    border-radius: 0.5rem;
    border: 1px solid var(--border-color);
    margin-bottom: 1rem;
}

.passenger-fieldset-header {
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 0.5rem;
    background: var(--input-bg);
    border-radius: 0.25rem;
    color: var(--text-color);
}

.passenger-fieldset-header h4,
.passenger-fieldset-header .toggle-icon {
    color: var(--text-color);
}

.passenger-fieldset-content {
    display: none;
    color: var(--text-color);
}

.passenger-fieldset-content.open {
    display: block;
}

.passenger-fieldset-content label {
    color: var(--text-color);
}

.passenger-fieldset-content input,
.passenger-fieldset-content select {
    background: var(--input-bg);
    color: var(--text-color);
    border-color: var(--border-color);
}

.file-preview img {
    max-width: 100px;
    max-height: 100px;
    object-fit: cover;
    border-radius: 0.25rem;
}

.file-preview .pdf-icon {
    width: 100px;
    height: 100px;
    background: url('{% static "images/pdf-icon.png" %}') no-repeat center;
    background-size: contain;
}

button:hover, input[type="checkbox"]:hover {
    cursor: pointer;
}

select, input[type="text"], input[type="number"], input[type="email"], input[type="file"] {
    transition: all 0.3s ease;
    background: var(--input-bg);
    color: var(--text-color);
    border-color: var(--border-color);
}

select:focus, input:focus {
    box-shadow: 0 0 0 3px rgba(37, 99, 235, 0.3);
}
</style>
{% endblock %}

{% block extra_js %}
<script src="https://cdn.tailwindcss.com"></script>
{{ form_data|default:"{'step': 1, 'hasParent': false}"|json_script:"form_data" }}
<script src="{% static 'js/book.js' %}"></script>
{% endblock %}